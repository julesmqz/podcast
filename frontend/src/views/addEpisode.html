
<div id="add-episode">
  <button ng-click="aepisode.goBack();" class="btn">
    <div class="mdi-navigation-chevron-left"></div>&nbsp; Regresar a Lista de Episodios
  </button>
  <div ng-if="!aepisode.new.fileName" class="well bs-component">
    <div ng-show="aepisode.audioFile.progress &gt;= 0" class="progress progress-striped">
      <div style="width: {{aepisode.audioFile.progress}}%" class="progress-bar progress-bar-info"></div>
    </div>
    <form class="form-horizontal">
      <fieldset>
        <legend>Añadir Episodio</legend>
        <div class="upload-file form-group">
          <div class="col-lg-12">
            <div ngf-select="ngf-select" ng-model="aepisode.audioFile" name="file" class="form-control-wrapper fileinput"><i ng-class="{go: aepisode.audioFile.name }" class="upload-icon mdi-image-audiotrack"></i>
              <p ng-if="!aepisode.audioFile.name">Upload Audio File</p>
              <p ng-if="aepisode.audioFile.name">{{aepisode.audioFile.name}}</p>
            </div>
          </div>
        </div>
        <button ng-click="aepisode.upload()" class="btn btn-primary pull-right">Subir</button>
      </fieldset>
    </form>
    <div ng-if="aepisode.uploadError" class="alert alert-danger">
      <div class="pull-left mdi-alert-error"> </div>
      <div>{{aepisode.uploadError}}</div>
    </div>
    <audio ng-if="aepisode.new.fileName" id="my-audio" ng-src="{{aepisode.new.audioFilePath}}"></audio>
  </div>
  <div ng-if="aepisode.new.fileName" class="well bs-component">
    <form class="form-horizontal">
      <fieldset>
        <legend>Información General</legend>
        <div class="audio-preview audio-player small">
          <h4>Audio Preview</h4>
          <sound-manager></sound-manager>
          <div class="flex-row">
            <div class="actions flex50">
              <button music-player="play" add-song="aepisode.song" ng-if="!currentPlaying" class="btn btn-fab btn-raised"><i class="mdi-av-album"></i></button>
              <button play-music="play-music" ng-if="currentPlaying &amp;&amp; !isPlaying" class="btn btn-fab btn-raised"><i class="mdi-av-play-arrow"></i></button>
              <button pause-music="pause-music" ng-if="isPlaying" class="btn btn-fab btn-raised"><i class="mdi-av-pause"></i></button>
              <button stop-music="stop-music" ng-if="isPlaying" class="btn btn-fab btn-raised"><i class="mdi-av-stop"></i></button>
            </div>
            <div class="information flex50">
              <p>{{ currentPlaying.title }} by {{ currentPlaying.artist }} </p>
              <p>({{ currentPostion }} / {{ currentDuration }})</p>
              <div seek-track="seek-track" ng-class="{active:isPlaying}" class="bar progress progress-striped seekBase">
                <div ng-style="{width: ( progress + '%' ) }" class="progress-bar seekLoad"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="information">
          <div class="form-group">
            <label class="col-lg-2">Título</label>
            <div class="col-lg-10">
              <input type="text" placeholder="Título" ng-model="aepisode.new.title" class="form-control"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-lg-2">Subtítulo</label>
            <div class="col-lg-10">
              <input type="text" placeholder="Subtítulo" ng-model="aepisode.new.subtitle" class="form-control"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-lg-2">Descripción</label>
            <div class="col-lg-10">
              <input type="text" placeholder="Descripción" ng-model="aepisode.new.summary" class="form-control"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-lg-2">Autor</label>
            <div class="col-lg-10">
              <input type="text" placeholder="Autor" ng-model="aepisode.new.author" class="form-control"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-lg-2">Fecha de publicación</label>
            <div class="col-lg-10">
              <input type="text" placeholder="Fecha de publicación" ng-model="aepisode.new.pubDate" class="form-control"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-lg-2">Keywords</label>
            <div class="col-lg-10">
              <input type="text" placeholder="Copyright" ng-model="aepisode.new.keywords" class="form-control"/>
            </div>
          </div>
        </div>
        <button ng-click="aepisode.save()" class="btn btn-primary pull-right">Guardar</button>
        <button ng-click="aepisode.cancel()" clear-playlist="clear-playlist" class="btn pull-right">Cancelar</button>
      </fieldset>
    </form>
    <div ng-if="channel.errors" class="alert alert-danger">
      <div class="pull-left mdi-alert-error"> </div>
      <div>{{channel.errors}}</div>
    </div>
  </div>
</div>